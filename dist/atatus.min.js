/*! AtatusJs - v1.3.0 - 2014-04-20
* https://github.com/fizerkhan/atatusjs
* Copyright (c) 2014 Atatus; Licensed MIT */
(function(e,n){"use strict";var t="",r="?",i="function",o="undefined",s="object",a="major",u="model",l="name",c="type",f="vendor",d="version",m="architecture",p="console",g="mobile",h="tablet",w={has:function(e,n){return-1!==n.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()}},v={rgx:function(){for(var e,t,r,a,u,l,c,f=0,d=arguments;d.length>f;f+=2){var m=d[f],p=d[f+1];if(typeof e===o){e={};for(a in p)u=p[a],typeof u===s?e[u[0]]=n:e[u]=n}for(t=r=0;m.length>t;t++)if(l=m[t].exec(this.getUA())){for(a=0;p.length>a;a++)c=l[++r],u=p[a],typeof u===s&&u.length>0?2==u.length?e[u[0]]=typeof u[1]==i?u[1].call(this,c):u[1]:3==u.length?e[u[0]]=typeof u[1]!==i||u[1].exec&&u[1].test?c?c.replace(u[1],u[2]):n:c?u[1].call(this,c,u[2]):n:4==u.length&&(e[u[0]]=c?u[3].call(this,c.replace(u[1],u[2])):n):e[u]=c?c:n;break}if(l)break}return e},str:function(e,t){for(var i in t)if(typeof t[i]===s&&t[i].length>0){for(var o=0;t[i].length>o;o++)if(w.has(t[i][o],e))return i===r?n:i}else if(w.has(t[i],e))return i===r?n:i;return e}},b={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",RT:"ARM"}}}},x={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],[l,d,a],[/\s(opr)\/((\d+)?[\w\.]+)/i],[[l,"Opera"],d,a],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],[l,d,a],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[[l,"IE"],d,a],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[[l,"Yandex"],d,a],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[[l,/_/g," "],d,a],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i],[l,d,a],[/(dolfin)\/((\d+)?[\w\.]+)/i],[[l,"Dolphin"],d,a],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[[l,"Chrome"],d,a],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],[d,a,[l,"Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],[d,a,l],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],[l,[a,v.str,b.browser.oldsafari.major],[d,v.str,b.browser.oldsafari.version]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],[l,d,a],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[[l,"Netscape"],d,a],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(uc\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],[l,d,a]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[m,/ower/,"",w.lowerize]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/(ia64(?=;)|68k(?=\))|arm(?=v\d+;)|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[m,w.lowerize]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[u,f,[c,h]],[/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[f,u,[c,h]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[u,f,[c,g]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[f,u,[c,g]],[/\((bb10);\s(\w+)/i],[[f,"BlackBerry"],u,[c,g]],[/android.+((transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+))/i],[[f,"Asus"],u,[c,h]],[/(sony)\s(tablet\s[ps])/i],[f,u,[c,h]],[/(nintendo)\s([wids3u]+)/i],[f,u,[c,p]],[/((playstation)\s[3portablevi]+)/i],[[f,"Sony"],u,[c,p]],[/(sprint\s(\w+))/i],[[f,v.str,b.device.sprint.vendor],[u,v.str,b.device.sprint.model],[c,g]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[f,[u,/_/g," "],[c,g]],[/\s((milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?))[\w\s]+build\//i,/(mot)[\s-]?(\w+)*/i],[[f,"Motorola"],u,[c,g]],[/android.+\s((mz60\d|xoom[\s2]{0,2}))\sbuild\//i],[[f,"Motorola"],u,[c,h]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9))/i],[[f,"Samsung"],u,[c,h]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[f,"Samsung"],u,[c,g]],[/(sie)-(\w+)*/i],[[f,"Siemens"],u,[c,g]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[f,"Nokia"],u,[c,g]],[/android\s3\.[\s\w-;]{10}((a\d{3}))/i],[[f,"Acer"],u,[c,h]],[/android\s3\.[\s\w-;]{10}(lg?)-([06cv9]{3,4})/i],[[f,"LG"],u,[c,h]],[/((nexus\s[45]))/i,/(lg)[e;\s-\/]+(\w+)*/i],[[f,"LG"],u,[c,g]],[/android.+((ideatab[a-z0-9\-\s]+))/i],[[f,"Lenovo"],u,[c,h]],[/(mobile|tablet);.+rv\:.+gecko\//i],[c,f,u]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[l,d],[/rv\:([\w\.]+).*(gecko)/i],[d,l]],os:[[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[l,[d,v.str,b.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[l,"Windows"],[d,v.str,b.os.windows.version]],[/\((bb)(10);/i],[[l,"BlackBerry"],d],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)\/([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego)[\/\s-]?([\w\.]+)*/i],[l,d],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[l,"Symbian"],d],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[l,"Firefox OS"],d],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[l,d],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[l,"Chromium OS"],d],[/(sunos)\s?([\w\.]+\d)*/i],[[l,"Solaris"],d],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[l,d],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[l,"iOS"],[d,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],[l,[d,/_/g,"."]],[/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos)/i,/(unix)\s?([\w\.]+)*/i],[l,d]]},y=function(r){var i=r||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:t);return this instanceof y?(this.getBrowser=function(){return v.rgx.apply(this,x.browser)},this.getCPU=function(){return v.rgx.apply(this,x.cpu)},this.getDevice=function(){return v.rgx.apply(this,x.device)},this.getEngine=function(){return v.rgx.apply(this,x.engine)},this.getOS=function(){return v.rgx.apply(this,x.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this.setUA(i),n):new y(r).getResult()};if(typeof exports!==o)typeof module!==o&&module.exports&&(exports=module.exports=y),exports.UAParser=y;else if(e.UAParser=y,typeof define===i&&define.amd&&define(function(){return y}),typeof e.jQuery!==o){var k=e.jQuery,S=new y;k.ua=S.getResult(),k.ua.get=function(){return S.getUA()},k.ua.set=function(e){S.setUA(e);var n=S.getResult();for(var t in n)k.ua[t]=n[t]}}})(this),function(e){function n(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function t(e){return e===undefined}var r={},i=e.TraceKit,o=[].slice,s="?";r.noConflict=function(){return e.TraceKit=i,r},r.wrap=function(e){function n(){try{return e.apply(this,arguments)}catch(n){throw r.report(n),n}}return n},r.report=function(){function t(e){u(),d.push(e)}function i(e){for(var n=d.length-1;n>=0;--n)d[n]===e&&d.splice(n,1)}function s(e,t){var i=null;if(!t||r.collectWindowErrors){for(var s in d)if(n(d,s))try{d[s].apply(null,[e].concat(o.call(arguments,2)))}catch(a){i=a}if(i)throw i}}function a(e,n,t){var i=null;if(p)r.computeStackTrace.augmentStackTraceWithInitialElement(p,n,t,e),i=p,p=null,m=null;else{var o={url:n,line:t};o.func=r.computeStackTrace.guessFunctionName(o.url,o.line),o.context=r.computeStackTrace.gatherContext(o.url,o.line),i={mode:"onerror",message:e,url:document.location.href,stack:[o],useragent:navigator.userAgent}}return s(i,"from window.onerror"),c?c.apply(this,arguments):!1}function u(){f!==!0&&(c=e.onerror,e.onerror=a,f=!0)}function l(n){var t=o.call(arguments,1);if(p){if(m===n)return;var i=p;p=null,m=null,s.apply(null,[i,null].concat(t))}var a=r.computeStackTrace(n);throw p=a,m=n,e.setTimeout(function(){m===n&&(p=null,m=null,s.apply(null,[a,null].concat(t)))},a.incomplete?2e3:0),n}var c,f,d=[],m=null,p=null;return l.subscribe=t,l.unsubscribe=i,l}(),r.computeStackTrace=function(){function i(n){if(!r.remoteFetching)return"";try{var t=function(){try{return new e.XMLHttpRequest}catch(n){return new e.ActiveXObject("Microsoft.XMLHTTP")}},i=t();return i.open("GET",n,!1),i.send(""),i.responseText}catch(o){return""}}function o(e){if(!n(k,e)){var t="";-1!==e.indexOf(document.domain)&&(t=i(e)),k[e]=t?t.split("\n"):[]}return k[e]}function a(e,n){var r,i=/function ([^(]*)\(([^)]*)\)/,a=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,u="",l=10,c=o(e);if(!c.length)return s;for(var f=0;l>f;++f)if(u=c[n-f]+u,!t(u)){if(r=a.exec(u))return r[1];if(r=i.exec(u))return r[1]}return s}function u(e,n){var i=o(e);if(!i.length)return null;var s=[],a=Math.floor(r.linesOfContext/2),u=a+r.linesOfContext%2,l=Math.max(0,n-a-1),c=Math.min(i.length,n+u-1);n-=1;for(var f=l;c>f;++f)t(i[f])||s.push(i[f]);return s.length>0?s:null}function l(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function c(e){return l(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function f(e,n){for(var t,r,i=0,s=n.length;s>i;++i)if((t=o(n[i])).length&&(t=t.join("\n"),r=e.exec(t)))return{url:n[i],line:t.substring(0,r.index).split("\n").length,column:r.index-t.lastIndexOf("\n",r.index)-1};return null}function d(e,n,t){var r,i=o(n),s=RegExp("\\b"+l(e)+"\\b");return t-=1,i&&i.length>t&&(r=s.exec(i[t]))?r.index:null}function m(n){for(var t,r,i,o,s=[e.location.href],a=document.getElementsByTagName("script"),u=""+n,d=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,m=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,p=0;a.length>p;++p){var g=a[p];g.src&&s.push(g.src)}if(i=d.exec(u)){var h=i[1]?"\\s+"+i[1]:"",w=i[2].split(",").join("\\s*,\\s*");t=l(i[3]).replace(/;$/,";?"),r=RegExp("function"+h+"\\s*\\(\\s*"+w+"\\s*\\)\\s*{\\s*"+t+"\\s*}")}else r=RegExp(l(u).replace(/\s+/g,"\\s+"));if(o=f(r,s))return o;if(i=m.exec(u)){var v=i[1];if(t=c(i[2]),r=RegExp("on"+v+"=[\\'\"]\\s*"+t+"\\s*[\\'\"]","i"),o=f(r,s[0]))return o;if(r=RegExp(t),o=f(r,s))return o}return null}function p(e){if(!e.stack)return null;for(var n,t,r=/^\s*at (?:((?:\[object object\])?\S+(?: \[as \S+\])?) )?\(?((?:file|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,i=/^\s*(\S*)(?:\((.*?)\))?@((?:file|http|https).*?):(\d+)(?::(\d+))?\s*$/i,o=e.stack.split("\n"),l=[],c=/^(.*) is undefined$/.exec(e.message),f=0,m=o.length;m>f;++f){if(n=i.exec(o[f]))t={url:n[3],func:n[1]||s,args:n[2]?n[2].split(","):"",line:+n[4],column:n[5]?+n[5]:null};else{if(!(n=r.exec(o[f])))continue;t={url:n[2],func:n[1]||s,line:+n[3],column:n[4]?+n[4]:null}}!t.func&&t.line&&(t.func=a(t.url,t.line)),t.line&&(t.context=u(t.url,t.line)),l.push(t)}return l[0]&&l[0].line&&!l[0].column&&c&&(l[0].column=d(c[1],l[0].url,l[0].line)),l.length?{mode:"stack",name:e.name,message:e.message,url:document.location.href,stack:l,useragent:navigator.userAgent}:null}function g(e){for(var n,t=e.stacktrace,r=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,i=t.split("\n"),o=[],s=0,l=i.length;l>s;s+=2)if(n=r.exec(i[s])){var c={line:+n[1],column:+n[2],func:n[3]||n[4],args:n[5]?n[5].split(","):[],url:n[6]};if(!c.func&&c.line&&(c.func=a(c.url,c.line)),c.line)try{c.context=u(c.url,c.line)}catch(f){}c.context||(c.context=[i[s+1]]),o.push(c)}return o.length?{mode:"stacktrace",name:e.name,message:e.message,url:document.location.href,stack:o,useragent:navigator.userAgent}:null}function h(t){var r=t.message.split("\n");if(4>r.length)return null;var i,s,l,d,m=/^\s*Line (\d+) of linked script ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,p=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,g=/^\s*Line (\d+) of function script\s*$/i,h=[],w=document.getElementsByTagName("script"),v=[];for(s in w)n(w,s)&&!w[s].src&&v.push(w[s]);for(s=2,l=r.length;l>s;s+=2){var b=null;if(i=m.exec(r[s]))b={url:i[2],func:i[3],line:+i[1]};else if(i=p.exec(r[s])){b={url:i[3],func:i[4]};var x=+i[1],y=v[i[2]-1];if(y&&(d=o(b.url))){d=d.join("\n");var k=d.indexOf(y.innerText);k>=0&&(b.line=x+d.substring(0,k).split("\n").length)}}else if(i=g.exec(r[s])){var S=e.location.href.replace(/#.*$/,""),T=i[1],A=RegExp(c(r[s+1]));d=f(A,[S]),b={url:S,line:d?d.line:T,func:""}}if(b){b.func||(b.func=a(b.url,b.line));var j=u(b.url,b.line),O=j?j[Math.floor(j.length/2)]:null;b.context=j&&O.replace(/^\s*/,"")===r[s+1].replace(/^\s*/,"")?j:[r[s+1]],h.push(b)}}return h.length?{mode:"multiline",name:t.name,message:r[0],url:document.location.href,stack:h,useragent:navigator.userAgent}:null}function w(e,n,t,r){var i={url:n,line:t};if(i.url&&i.line){e.incomplete=!1,i.func||(i.func=a(i.url,i.line)),i.context||(i.context=u(i.url,i.line));var o=/ '([^']+)' /.exec(r);if(o&&(i.column=d(o[1],i.url,i.line)),e.stack.length>0&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,e.stack[0].context=i.context,!1}return e.stack.unshift(i),e.partial=!0,!0}return e.incomplete=!0,!1}function v(e,n){for(var t,i,o,u=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,l=[],c={},f=!1,p=v.caller;p&&!f;p=p.caller)if(p!==b&&p!==r.report){if(i={url:null,func:s,line:null,column:null},p.name?i.func=p.name:(t=u.exec(""+p))&&(i.func=t[1]),o=m(p)){i.url=o.url,i.line=o.line,i.func===s&&(i.func=a(i.url,i.line));var g=/ '([^']+)' /.exec(e.message||e.description);g&&(i.column=d(g[1],o.url,o.line))}c[""+p]?f=!0:c[""+p]=!0,l.push(i)}n&&l.splice(0,n);var h={mode:"callers",name:e.name,message:e.message,url:document.location.href,stack:l,useragent:navigator.userAgent};return w(h,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),h}function b(e,n){var t=null;n=null==n?0:+n;try{if(t=g(e))return t}catch(r){if(y)throw r}try{if(t=p(e))return t}catch(r){if(y)throw r}try{if(t=h(e))return t}catch(r){if(y)throw r}try{if(t=v(e,n+1))return t}catch(r){if(y)throw r}return{mode:"failed"}}function x(e){e=(null==e?0:+e)+1;try{throw Error()}catch(n){return b(n,e+1)}}var y=!1,k={};return b.augmentStackTraceWithInitialElement=w,b.guessFunctionName=a,b.gatherContext=u,b.ofCaller=x,b}(),function(){var n=function n(n){var t=e[n];e[n]=function(){var e=o.call(arguments),n=e[0];return"function"==typeof n&&(e[0]=r.wrap(n)),t.apply?t.apply(this,e):t(e[0],e[1])}};n("setTimeout"),n("setInterval")}(),r.remoteFetching||(r.remoteFetching=!0),r.collectWindowErrors||(r.collectWindowErrors=!0),(!r.linesOfContext||1>r.linesOfContext)&&(r.linesOfContext=11),e.TraceKit=r}(window),function(e,n){"use strict";if(e){var t=e.event.add;e.event.add=function(r,i,o,s,a){var u;return o.handler?(u=o.handler,o.handler=n.wrap(o.handler)):(u=o,o=n.wrap(o)),o.guid=u.guid?u.guid:u.guid=e.guid++,t.call(this,r,i,o,s,a)};var r=e.fn.ready;e.fn.ready=function(e){return r.call(this,n.wrap(e))};var i=e.ajax;e.ajax=function(t,r){"object"==typeof t&&(r=t,t=void 0),r=r||{};for(var o,s=["complete","error","success"];o=s.pop();)e.isFunction(r[o])&&(r[o]=n.wrap(r[o]));try{return t?i.call(this,t,r):i.call(this,r)}catch(a){throw n.report(a),a}}}}(window.jQuery,window.TraceKit),function(e,n,t,r){function i(e){var n=e.split("//")[1],t=n.indexOf("?"),r=(""+n).substring(0,t),i=r.split("/").slice(0,4).join("/"),o=r.substring(0,48),s=i.length<o.length?i:o;return s!==r&&(s+=".."),s}function o(e,n,t,o){var s="AJAX Error: "+(n.statusText||"unknown")+" "+(t.type||"unknown")+" "+(i(t.url)||"unknown");D.send(o||e.type,{status:n.status,statusText:n.statusText,type:t.type,url:t.url,ajaxErrorMessage:s,contentType:t.contentType,data:t.data?t.data.slice(0,10240):r})}function s(n,t){e.console&&e.console.log&&E&&(e.console.log(n),t&&e.console.log(t))}function a(){return x&&""!==x?!0:(s("Atatus API key has not been configured, make sure you call atatus.init(yourApiKey)"),!1)}function u(e,n){var t,r={};for(t in e)r[t]=e[t];for(t in n)r[t]=n[t];return r}function l(e,n){return null!=n?e.concat(n):e}function c(e,n){for(var t=0;e.length>t;t++)n.call(null,t,e[t])}function f(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0}function d(){return Math.floor(9007199254740992*Math.random())}function m(){var n=document.documentElement,t=document.getElementsByTagName("body")[0],r=e.innerWidth||n.clientWidth||t.clientWidth,i=e.innerHeight||n.clientHeight||t.clientHeight;return{width:r,height:i}}function p(e){var n=(new Date).toJSON();try{var t="raygunjs="+n+"="+d();localStorage[t]===r&&(localStorage[t]=e)}catch(i){s("AtatusJS: LocalStorage full, cannot save exception")}}function g(){for(var e in localStorage)"raygunjs="===e.substring(0,9)&&(w(JSON.parse(localStorage[e])),localStorage.removeItem(e))}function h(n,t){var i=[],o={};n.stack&&n.stack.length&&c(n.stack,function(e,n){i.push({linenumber:n.line||0,classname:"line "+n.line+", column "+n.column,filename:n.url||"anonymous",methodname:n.func||"[anonymous]"})}),e.location.search&&e.location.search.length>1&&c(e.location.search.substring(1).split("&"),function(e,n){var t=n.split("=");t&&2===t.length&&(o[decodeURIComponent(t[0])]=t[1])}),t===r&&(t={}),f(t.customData)&&(t.customData=N),f(t.tags)&&(t.tags=R);var s=e.screen||{width:m().width,height:m().height,colorDepth:8},a=t.customData&&t.customData.ajaxErrorMessage||n.message;a&&0===a.indexOf("Uncaught ")&&(a=n.message.substring(9));var u={occurred_on:new Date,details:{error:{classname:n.name,message:a||t.status||"Script error",stacktrace:i},environment:{user_language:navigator.userLanguage,document_mode:document.documentMode,browser_width:m().width,browser_height:m().height,screen_width:s.width,screen_height:s.height,color_depth:s.colorDepth,user_agent:O,url:document.location.href,referrer:document.referrer,host:document.domain,query_string:e.location.search},client:{name:"atatus-js",version:"1.8.1"},user_custom_data:t.customData,tags:t.tags,Version:k||"Not supplied"}};y&&(u.Details.User=y),w(u)}function w(e){if((!S||-1!==S.indexOf(location.host))&&a()){s("Sending exception data to Atatus:",e);var n=M+"/api/entries?apikey="+encodeURIComponent(x);b(n,JSON.stringify(e))}}function v(n,t){var r;return r=new e.XMLHttpRequest,"withCredentials"in r?r.open(n,t,!0):e.XDomainRequest&&(_&&(t=t.slice(6)),r=new e.XDomainRequest,r.open(n,t)),r.timeout=1e4,r}function b(n,t){var i=v("POST",n,t);return"withCredentials"in i?(i.onreadystatechange=function(){4===i.readyState&&(202===i.status?g():C&&403!==i.status&&400!==i.status&&p(t))},i.onload=function(){s("logged error to Atatus")}):e.XDomainRequest&&(i.ontimeout=function(){C&&(s("Atatus: saved error locally"),p(t))},i.onload=function(){s("logged error to Atatus"),g()}),i.onerror=function(){s("failed to log error to Atatus")},i?(i.send(t),r):(s("CORS not supported"),r)}var x,y,k,S,T,A=TraceKit.noConflict(),j=e.atatus,O={},E=!1,_=!1,C=!1,N={},R=[],M="https://www.atatus.com";n&&(T=n(document)),t&&(O=(new t).getResult());var D={noConflict:function(){return e.atatus=j,D},init:function(e,n,t){return x=e,A.remoteFetching=!1,N=t,n&&(_=n.allowInsecureSubmissions||!1,n.debugMode&&(E=n.debugMode)),g(),D},withCustomData:function(e){return N=e,D},withTags:function(e){R=e},attach:function(){return a()?(A.report.subscribe(h),T&&T.ajaxError(o),D):r},detach:function(){return A.report.unsubscribe(h),T&&T.unbind("ajaxError",o),D},send:function(e,n,t){try{h(A.computeStackTrace(e),{customData:u(N,n),tags:l(R,t)})}catch(r){if(e!==r)throw r}return D},setAllowedDomains:function(e){return"[object Array]"===Object.prototype.toString.call(e)&&(S=e),D},setUser:function(e){return y={Identifier:e},D},setVersion:function(e){return k=e,D},saveIfOffline:function(e){return e!==r&&"boolean"==typeof e&&(C=e),D}};e.atatus=D}(window,window.jQuery,window.UAParser);